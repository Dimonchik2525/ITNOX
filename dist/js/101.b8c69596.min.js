"use strict";(self.webpackChunkgulpwebpack2024=self.webpackChunkgulpwebpack2024||[]).push([[101],{101:(t,e,r)=>{r.r(e);var n=r(395),o=r(97);function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var u,h,f=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=Object.assign({logging:!0},e),this.observer,!document.documentElement.classList.contains("watcher")&&this.scrollWatcherRun()},(e=[{key:"scrollWatcherUpdate",value:function(){this.scrollWatcherRun()}},{key:"scrollWatcherRun",value:function(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}},{key:"scrollWatcherConstructor",value:function(t){var e=this;t.length?(this.scrollWatcherLogging("Проснулся, слежу за объектами (".concat(t.length,")...")),(0,n.v3)(Array.from(t).map((function(t){return"".concat(t.dataset.watchRoot?t.dataset.watchRoot:null,"|").concat(t.dataset.watchMargin?t.dataset.watchMargin:"0px","|").concat(t.dataset.watchThreshold?t.dataset.watchThreshold:0)}))).forEach((function(r){var n=r.split("|"),o={root:n[0],margin:n[1],threshold:n[2]},a=Array.from(t).filter((function(t){var e=t.dataset.watchRoot?t.dataset.watchRoot:null,r=t.dataset.watchMargin?t.dataset.watchMargin:"0px",n=t.dataset.watchThreshold?t.dataset.watchThreshold:0;if(String(e)===o.root&&String(r)===o.margin&&String(n)===o.threshold)return t})),c=e.getScrollWatcherConfig(o);e.scrollWatcherInit(a,c)}))):this.scrollWatcherLogging("Сплю, нет объектов для слежения. ZzzZZzz")}},{key:"getScrollWatcherConfig",value:function(t){var e={};if(document.querySelector(t.root)?e.root=document.querySelector(t.root):"null"!==t.root&&this.scrollWatcherLogging("Эмм... родительского объекта ".concat(t.root," нет на странице")),e.rootMargin=t.margin,!(t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0)){if("prx"===t.threshold){t.threshold=[];for(var r=0;r<=1;r+=.005)t.threshold.push(r)}else t.threshold=t.threshold.split(",");return e.threshold=t.threshold,e}this.scrollWatcherLogging("Ой ой, настройку data-watch-margin нужно задавать в PX или %")}},{key:"scrollWatcherCreate",value:function(t){var e=this;this.observer=new IntersectionObserver((function(t,r){t.forEach((function(t){e.scrollWatcherCallback(t,r)}))}),t)}},{key:"scrollWatcherInit",value:function(t,e){var r=this;this.scrollWatcherCreate(e),t.forEach((function(t){return r.observer.observe(t)}))}},{key:"scrollWatcherIntersecting",value:function(t,e){t.isIntersecting?(!e.classList.contains("_watcher-view")&&e.classList.add("_watcher-view"),this.scrollWatcherLogging("Я вижу ".concat(e.classList,", добавил класс _watcher-view"))):(e.classList.contains("_watcher-view")&&e.classList.remove("_watcher-view"),this.scrollWatcherLogging("Я не вижу ".concat(e.classList,", убрал класс _watcher-view")))}},{key:"scrollWatcherOff",value:function(t,e){e.unobserve(t),this.scrollWatcherLogging("Я перестал следить за ".concat(t.classList))}},{key:"scrollWatcherLogging",value:function(t){this.config.logging&&(0,n.yU)("[Наблюдатель]: ".concat(t))}},{key:"scrollWatcherCallback",value:function(t,e){var r=t.target;this.scrollWatcherIntersecting(t,r),r.hasAttribute("data-watch-once")&&t.isIntersecting&&this.scrollWatcherOff(r,e),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}])&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();o.t.watcher=new f({}),u=document.querySelectorAll(".header__nav__item"),h=document.querySelectorAll("[data-watch]"),document.addEventListener("scroll",(function(t){var e,r,n=document.documentElement.clientHeight/2,o=[],c=a(h);try{for(c.s();!(r=c.n()).done;){var i=r.value;i.classList.contains("_watcher-view")&&(o.push(i),e=i.getAttribute("data-watch"))}}catch(t){c.e(t)}finally{c.f()}o.length>1&&(o[0].getBoundingClientRect().bottom>n?o.splice(1,1):o.splice(0,1),e=o[0].getAttribute("data-watch"));var l,s=a(u);try{for(s.s();!(l=s.n()).done;){var f=l.value;f.getAttribute("data-goto").slice(1)==e?f.classList.add("td"):f.classList.remove("td")}}catch(t){s.e(t)}finally{s.f()}}))}}]);